(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),c=n(3),i=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("form",{children:Object(s.jsxs)("div",{children:["filter: ",Object(s.jsx)("input",{value:e.NewFilter,onChange:function(t){console.log(t.target.value),e.setNewFilter(t.target.value)}})]})})})},o=function(e){if(e.persons.some((function(t){return t.name===e.newFilter}))){var t=e.persons.find((function(t){return t.name===e.newFilter})).name,n=e.persons.find((function(t){return t.name===e.newFilter})).number;return Object(s.jsxs)("div",{children:["Result: ",t," ",n]})}return Object(s.jsx)("div",{children:"Result: "})},u=n(4),j=n.n(u),a="/api/persons",l={getPersons:function(){return j.a.get(a)},getCountries:function(){return j.a.get("https://restcountries.eu/rest/v2/all")},postPerson:function(e){return j.a.post(a,e)},deletePerson:function(e){return j.a.delete("".concat(a,"/").concat(e))}},b=function(e){return Object(s.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={name:e.newName,number:e.newNumber};e.persons.some((function(t){return t.name===e.newName}))&&e.persons.some((function(t){return t.number===e.newNumber}))?alert("".concat(e.newName," and ").concat(e.newNumber," is already added to phonebook")):(l.postPerson(n).then((function(t){e.setPersons(e.persons.concat(n)),console.log(e.persons),e.setSuccessMessage("".concat(n.name,"'s information has been added")),setTimeout((function(){e.setSuccessMessage(null)}),5e3)})),e.setNewName(""),e.setNewNumber(""))},children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:e.newName,onChange:function(t){console.log(t.target.value),e.setNewName(t.target.value)}})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{value:e.newNumber,onChange:function(t){console.log(t.target.value),e.setNewNumber(t.target.value)}})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},d=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Numbers"}),e.persons.map((function(t,n){return Object(s.jsxs)("li",{children:[t.name," ",t.number," ",Object(s.jsx)("button",{type:"submit",onClick:function(n){return function(t,n){console.log(t);var s=e.persons.find((function(e){return e.id===t}));window.confirm("Will you delete ".concat(s.name,"'s contact?"))&&l.deletePerson(t).then((function(n){var s=e.persons.filter((function(e){return e.id!==t}));e.setPersons(s)}))}(t.id)},children:"delete"})]},t.id)}))]})},O=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("form",{children:Object(s.jsxs)("div",{children:["filter: ",Object(s.jsx)("input",{value:e.newCountryFilter,onChange:function(t){console.log(t.target.value),e.setNewCountryFilter(t.target.value)}})]})})})},m=function(e){var t=e.countries.filter((function(t){return t.name.includes(e.newCountryFilter)}));return""===e.newCountryFilter?Object(s.jsx)("div",{}):t.length>10?Object(s.jsx)("div",{children:"Too many matches. Be more specific"}):t.length<=10&&t.length>1?Object(s.jsx)("div",{children:t.map((function(e,t){return Object(s.jsx)("li",{children:e.name},e.name)}))}):1===t.length?Object(s.jsx)("div",{children:t.map((function(e,t){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:e.name}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{children:["capital ",e.capital]}),Object(s.jsxs)("div",{children:["population ",e.population]}),Object(s.jsx)("br",{}),Object(s.jsx)("h2",{children:"languages"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{children:[" ",e.languages.map((function(e,t){return Object(s.jsx)("li",{children:e.name})}))]}),Object(s.jsx)("img",{alt:"flag",height:"100",width:"100",style:{border:"solid 1px"},src:e.flag})]})}))}):Object(s.jsx)("div",{})},f=function(e){var t=e.message;return null===t?null:Object(s.jsx)("div",{className:"error",children:t})},h=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],u=t[1],j=Object(r.useState)(""),a=Object(c.a)(j,2),h=a[0],x=a[1],p=Object(r.useState)(""),v=Object(c.a)(p,2),g=v[0],w=v[1],N=Object(r.useState)(""),F=Object(c.a)(N,2),y=F[0],C=F[1],P=Object(r.useState)([]),S=Object(c.a)(P,2),k=S[0],E=S[1],M=Object(r.useState)(""),B=Object(c.a)(M,2),J=B[0],R=B[1],T=Object(r.useState)(null),D=Object(c.a)(T,2),I=D[0],W=D[1];return Object(r.useEffect)((function(){l.getPersons().then((function(e){u(e.data)}))}),[n]),Object(r.useEffect)((function(){l.getCountries().then((function(e){E(e.data)}))}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)("br",{}),Object(s.jsx)(i,{newFilter:y,setNewFilter:C}),Object(s.jsx)("br",{}),Object(s.jsx)(o,{persons:n,newFilter:y}),Object(s.jsx)("br",{}),Object(s.jsx)(f,{message:I}),Object(s.jsx)("br",{}),Object(s.jsx)(b,{persons:n,setPersons:u,newName:h,setNewName:x,newNumber:g,setNewNumber:w,setSuccessMessage:W}),Object(s.jsx)("br",{}),Object(s.jsx)(d,{persons:n,setPersons:u}),Object(s.jsx)("br",{}),Object(s.jsx)(O,{newCountryFilter:J,setNewCountryFilter:R}),Object(s.jsx)("br",{}),Object(s.jsx)(m,{countries:k,newCountryFilter:J}),Object(s.jsx)("br",{})]})},x=n(14),p=n.n(x);n(38);p.a.render(Object(s.jsx)(h,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.97c9f0b8.chunk.js.map